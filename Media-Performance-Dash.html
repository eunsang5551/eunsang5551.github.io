<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Media Performance Dashboard</title>

    <!-- amCharts 5 -->
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>

    <style>
      html, body {
        width: 100%;
        height: 100%;
        margin: 0;
        background: #111827;
        color: white;
        font-family: Arial;
      }

      #chartdiv {
        width: 100%;
        height: 600px;
      }
    </style>
  </head>

  <body>
    <h2 style="padding:16px;">Media Performance Dashboard</h2>

    <div id="chartdiv"></div>

    <script>
      am5.ready(function () {
        // Root
        var root = am5.Root.new("chartdiv");

        // Animation theme 활성화
        root.setThemes([
          am5themes_Animated.new(root)
        ]);

        // 차트 생성
        var chart = root.container.children.push(
          am5xy.XYChart.new(root, {
            panX: true,
            panY: true,
            wheelX: "panX",
            wheelY: "zoomX",
            layout: root.verticalLayout
          })
        );

        // 데이터
        var data = [
          { press: "A 언론사", first: 30, follow: 18 },
          { press: "B 언론사", first: 20, follow: 25 },
          { press: "C 언론사", first: 40, follow: 10 },
          { press: "D 언론사", first: 35, follow: 22 },
        ];

        // X축 (언론사)
        var xRenderer = am5xy.AxisRendererX.new(root, { minGridDistance: 30 });
        var xAxis = chart.xAxes.push(
          am5xy.CategoryAxis.new(root, {
            categoryField: "press",
            renderer: xRenderer,
          })
        );
        xAxis.data.setAll(data);

        // Y축
        var yAxis = chart.yAxes.push(
          am5xy.ValueAxis.new(root, {
            renderer: am5xy.AxisRendererY.new(root, {})
          })
        );

        // 시리즈 (최초 보도)
        var firstSeries = chart.series.push(
          am5xy.ColumnSeries.new(root, {
            name: "최초 보도",
            xAxis: xAxis,
            yAxis: yAxis,
            valueYField: "first",
            categoryXField: "press",
            clustered: true,
            tooltip: am5.Tooltip.new(root, {
              labelText: "{name}: {valueY}"
            })
          })
        );
        firstSeries.columns.template.setAll({
          cornerRadiusTR: 6,
          cornerRadiusTL: 6
        });

        firstSeries.data.setAll(data);

        // 시리즈 (후속 보도)
        var followSeries = chart.series.push(
          am5xy.ColumnSeries.new(root, {
            name: "후속 보도",
            xAxis: xAxis,
            yAxis: yAxis,
            valueYField: "follow",
            categoryXField: "press",
            clustered: true,
            tooltip: am5.Tooltip.new(root, {
              labelText: "{name}: {valueY}"
            })
          })
        );
        followSeries.columns.template.setAll({
          cornerRadiusTR: 6,
          cornerRadiusTL: 6
        });

        followSeries.data.setAll(data);

        // Legend
        var legend = chart.children.push(
          am5.Legend.new(root, {
            centerX: am5.p50,
            x: am5.p50
          })
        );

        legend.data.setAll(chart.series);

        // 등장 애니메이션
        chart.appear(1000, 100);
        firstSeries.appear();
        followSeries.appear();
      });
    </script>
  </body>
</html>
